(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){var r,a,i;a=[],void 0===(i="function"===typeof(r=function(){if("WebSocket"in window)return e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e;function e(t,n,r){var a={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in r||(r={}),a)"undefined"!==typeof r[i]?this[i]=r[i]:this[i]=a[i];this.url=t,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var o,c=this,l=!1,u=!1,s=document.createElement("div");function h(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}s.addEventListener("open",function(e){c.onopen(e)}),s.addEventListener("close",function(e){c.onclose(e)}),s.addEventListener("connecting",function(e){c.onconnecting(e)}),s.addEventListener("message",function(e){c.onmessage(e)}),s.addEventListener("error",function(e){c.onerror(e)}),this.addEventListener=s.addEventListener.bind(s),this.removeEventListener=s.removeEventListener.bind(s),this.dispatchEvent=s.dispatchEvent.bind(s),this.open=function(t){if((o=new WebSocket(c.url,n||[])).binaryType=this.binaryType,t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else s.dispatchEvent(h("connecting")),this.reconnectAttempts=0;(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",c.url);var r=o,a=setTimeout(function(){(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",c.url),u=!0,r.close(),u=!1},c.timeoutInterval);o.onopen=function(n){clearTimeout(a),(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",c.url),c.protocol=o.protocol,c.readyState=WebSocket.OPEN,c.reconnectAttempts=0;var r=h("open");r.isReconnect=t,t=!1,s.dispatchEvent(r)},o.onclose=function(n){if(clearTimeout(a),o=null,l)c.readyState=WebSocket.CLOSED,s.dispatchEvent(h("close"));else{c.readyState=WebSocket.CONNECTING;var r=h("connecting");r.code=n.code,r.reason=n.reason,r.wasClean=n.wasClean,s.dispatchEvent(r),t||u||((c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",c.url),s.dispatchEvent(h("close")));var a=c.reconnectInterval*Math.pow(c.reconnectDecay,c.reconnectAttempts);setTimeout(function(){c.reconnectAttempts++,c.open(!0)},a>c.maxReconnectInterval?c.maxReconnectInterval:a)}},o.onmessage=function(t){(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",c.url,t.data);var n=h("message");n.data=t.data,s.dispatchEvent(n)},o.onerror=function(t){(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",c.url,t),s.dispatchEvent(h("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(t){if(o)return(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",c.url,t),o.send(t);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){"undefined"==typeof e&&(e=1e3),l=!0,o&&o.close(e,t)},this.refresh=function(){o&&o.close()}}})?r.apply(t,a):r)||(e.exports=i)},31:function(e,t,n){e.exports=n(43)},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(22),o=n(12),c=n(16),l=n(17),u=n(11),s=n(25),h=n.n(s),d="up",p="head",m="tail",f="body";function v(e){!function(e){e.Turn=e.Turn||0;var t=!0,n=!1,r=void 0;try{for(var a,i=e.Snakes[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,c=!0,l=!1,u=void 0;try{for(var s,h=o.Body[Symbol.iterator]();!(c=(s=h.next()).done);c=!0){var d=s.value;d.X=d.X||0,d.Y=d.Y||0}}catch(y){l=!0,u=y}finally{try{c||null==h.return||h.return()}finally{if(l)throw u}}}}catch(y){n=!0,r=y}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var p=!0,m=!1,f=void 0;try{for(var v,g=e.Food[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var b=v.value;b.X=b.X||0,b.Y=b.Y||0}}catch(y){m=!0,f=y}finally{try{p||null==g.return||g.return()}finally{if(m)throw f}}}(e);var t,n=b(e.Snakes);return{turn:e.Turn,snakes:n,food:(t=e.Food,t.map(E)),gameOver:j(e)}}function g(e){var t=h()(e);for(var n in t.snakes){var r=t.snakes[n];r.headSvg=null,r.tailSvg=null,r._id=null}return t}function b(e){return e.map(y)}function y(e){return{body:e.Body.map(function(t,n){return function(e,t){var n=e.Body.length-1,r=e.Body[0],a=e.Body[n],i=e.Body[t];if(0===t)return!0;if(t===n)return!(r.X===i.X&&r.Y===i.Y);var o=e.Body[t-1];return!(a.X===i.X&&a.Y===i.Y)&&!(o&&o.X===i.X&&o.Y===i.Y)}(e,n)?function(e,t){var n=e.Body[t],r=function(e,t){if(0===t)return p;if(t===e.Body.length-1)return m;return f}(e,t),a=E(n),i=a.x,o=a.y;return{direction:k(r,e,n),type:r,x:i,y:o}}(e,n):null}).filter(function(e){return e}),color:e.Color,_id:e.ID,name:e.Name,health:e.Health,isDead:!!e.Death,death:w(e.Death),head:e.HeadType&&e.HeadType.toLowerCase(),tail:e.TailType&&e.TailType.toLowerCase(),headSvg:e.HeadSvg,tailSvg:e.TailSvg}}function w(e){if(e)return{cause:e.Cause,turn:e.Turn||0}}function E(e){return{x:e.X,y:e.Y}}function k(e,t,n){var r;if("head"===e)r=function(e){return e.Body.length>1?O(e.Body[1],e.Body[0]):d}(t);else{var a=Object(l.a)(new Set(t.Body.map(function(e){return"".concat(e.X,",").concat(e.Y)}))).findIndex(function(e){return e==="".concat(n.X,",").concat(n.Y)});r=O(t.Body[a],t.Body[Math.max(a-1,0)])}return r}function O(e,t){return e.X<t.X?"right":t.X<e.X?"left":e.Y<t.Y?"down":"up"}function j(e){var t=b(e.Snakes);return 0===t.length||(1===t.length?!!t[0].death:function(e){return e.filter(function(e){return!e.death}).length<=1}(t))}function x(e){if(window.parent)try{window.parent.postMessage(e,"*")}catch(t){console.error(t)}}function S(e){var t=e.split("=");return{key:t[0],value:void 0===t[1]||decodeURIComponent(t[1])}}function T(e){if(!e)return"";var t="?",n="";for(var r in e){var a=e[r];n+="".concat(t).concat(r,"=").concat(a),t="&"}return n}function z(e){var t={http:"ws",https:"wss"};for(var n in t){var r=t[n];if(e.substr(0,n.length+1)===n+":")return r+e.substr(n.length)}throw new Error("Invalid URL: "+e)}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return function(e,t){var n=e.replace(/\/+$/,""),r=t.replace(/^\/+/,"");return""===n?r:""===r?n:"".concat(n,"/").concat(r)}(e,t)},"")}var R=n(4),M=n(5),A=n(7),L=n(6),P=n(8),F=n(3),H=n(1),I=function(e){function t(){return Object(R.a)(this,t),Object(A.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,"To run a game you need to specify engine and game parameters in the URL. For example:",a.a.createElement("pre",null,window.location.origin,"?engine=<ENGINE_URL>&game=<GAME_ID>"))}}]),t}(a.a.Component),_="#f1f1f1",G="#D6D5EA",B="#ff5c75",N="#fefefe",W="#f1f1f1",D="#59526b",V="#efefef",X="#222",U="#6f42c1",Y="#fff",K="#f8f9fa",q="768px",J="992px",Q="1650px",$="dark",Z="light",ee=Object(H.a)("div")({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"}),te=function(e){function t(){return Object(R.a)(this,t),Object(A.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return a.a.createElement(ee,null,a.a.createElement("div",{className:"la-ball-grid-beat la-dark la-2x",style:{color:B}},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null)))}}]),t}(a.a.Component),ne=.15,re=.1,ae=20,ie=4,oe=(ae/3.25).toFixed(2);function ce(e){return(ae+ie)*e+ie}function le(e){var t="left"===e.direction||"right"===e.direction?ie:0;return ae+t}function ue(e){var t="up"===e.direction||"down"===e.direction?ie:0;return ae+t}function se(e){var t="left"===e.direction?-ie:0;return ce(e.x)+t}function he(e){var t="up"===e.direction?-ie:0;return ce(e.y)+t}function de(e,t){if(e.isDead){if(t)return e._id===t?1:0}else if(t)return e._id===t?1:ne;return e.isDead?re:1}function pe(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}var me=function(e){function t(){return Object(R.a)(this,t),Object(A.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(M.a)(t,[{key:"renderPart",value:function(e,t,n,r,a){switch(n.type){case"head":return this.renderHeadPart(e,t,n,a);case"tail":return this.renderTailPart(e,t,n,a);default:return function(e,t){if(0===t||t===e.body.length-1)return!1;var n=e.body[t+1],r=e.body[t];return(n.x!==r.x||n.y!==r.y)&&n.direction!==r.direction}(e,r)?this.renderCornerPart(e,t,n,r,a):this.renderMiddlePart(e,t,n,r,a)}}},{key:"renderHeadPart",value:function(e,t,n,r){var i=function(e){switch(e.direction){case"left":case"right":default:return ce(e.x)}}(n),o=function(e){switch(e.direction){case"up":case"down":default:return ce(e.y)}}(n),c=e.headSvg.viewBox.baseVal,l=function(e,t){var n=t.width/2,r=t.height/2;switch(e){case"left":return"scale(-1,1) translate(-100, 0)";case"up":return"rotate(-90 ".concat(n," ").concat(r,")");case"down":return"rotate(90 ".concat(n," ").concat(r,")");default:return""}}(n.direction,c),u="".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height);return a.a.createElement("svg",{key:"part"+t+",head",viewBox:u,x:i,y:o,width:ae,height:ae,fill:e.color,opacity:de(e,r),shapeRendering:"optimizeSpeed"},a.a.createElement("g",{transform:l,dangerouslySetInnerHTML:{__html:e.headSvg.innerHTML}}))}},{key:"renderMiddlePart",value:function(e,t,n,r,i){return a.a.createElement("rect",{key:"part".concat(t,",").concat(n.x,",").concat(n.y),x:se(n),y:he(n),width:le(n),height:ue(n),fill:e.color,opacity:de(e,i),shapeRendering:"optimizeSpeed"})}},{key:"renderCornerPart",value:function(e,t,n,r,i){var o,c;switch(n.direction){case"left":case"right":o="0 0 120 100";break;case"up":case"down":default:o="0 0 100 120"}switch(function(e,t){if(0===t||t===e.body.length-1)return!1;var n=e.body[t+1],r=e.body[t];return"".concat(r.direction," ").concat(n.direction)}(e,r)){case"down left":c="scale(-1,1) translate(-100, 0)";break;case"left down":c="rotate(90,0,0) translate(0,-120)";break;case"right down":c="rotate(90,0,0) scale(1,-1)";break;case"up right":c="scale(1,-1) translate(0,-120)";break;case"up left":c="scale(-1,-1) translate(-100,-120)";break;case"right up":c="rotate(-90,0,0) translate(-100,0)";break;case"left up":c="rotate(-90,0,0) scale(1,-1) translate(-100,-120)"}return a.a.createElement("svg",{key:"part".concat(t,",").concat(n.x,",").concat(n.y),x:se(n),y:he(n),width:le(n),height:ue(n),opacity:de(e,i),fill:e.color,viewBox:o,shapeRendering:"optimizeSpeed"},a.a.createElement("path",{d:"M0,0 h40 a60,60 0 0 1 60,60 v80 h-100 z",transform:c}))}},{key:"renderTailPart",value:function(e,t,n,r){var i=function(e){switch(e.direction){case"left":return ce(e.x)-ie;case"right":return ce(e.x)+ie;default:return ce(e.x)}}(n),o=function(e){switch(e.direction){case"up":return ce(e.y)-ie;case"down":return ce(e.y)+ie;default:return ce(e.y)}}(n),c=e.tailSvg.viewBox.baseVal,l=function(e,t){var n=t.width/2,r=t.height/2;switch(e){case"right":return"rotate(180 ".concat(n," ").concat(r,")");case"down":return"rotate(-90 ".concat(n," ").concat(r,")");case"up":return"rotate(90 ".concat(n," ").concat(r,")");default:return""}}(n.direction,c),u="".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height);return a.a.createElement("svg",{key:"part"+t+",tail",viewBox:u,x:i,y:o,width:ae,height:ae,fill:e.color,opacity:de(e,r),shapeRendering:"optimizeSpeed"},a.a.createElement("g",{transform:l,dangerouslySetInnerHTML:{__html:e.tailSvg.innerHTML}}))}},{key:"renderGrid",value:function(){var e=this,t=this.props.snakes||[],n=this.props.food||[],r=t.concat().sort(function(e,t){return(e.isDead?0:1)-(t.isDead?0:1)}),i=ce(this.props.columns),o=ce(this.props.rows);return a.a.createElement("svg",{width:this.props.maxWidth,height:this.props.maxHeight,x:this.props.x,y:this.props.y,viewBox:"0 0 ".concat(i," ").concat(o)},pe(this.props.rows).map(function(t,n){return pe(e.props.columns).map(function(t,r){return a.a.createElement("rect",{key:"cell"+n+","+r,x:ce(r),y:ce(n),width:ae,height:ae,fill:e.props.theme===$?G:_,shapeRendering:"optimizeSpeed"})})}),r.map(function(t,n){return t.body.map(function(r,a){return e.renderPart(t,n,r,a,e.props.highlightedSnake)})}),n.map(function(e,t){return a.a.createElement("circle",{key:"food"+t,cx:ce(e.x)+ae/2,cy:ce(e.y)+ae/2,r:oe,fill:B,shapeRendering:"optimizeQuality"})}))}},{key:"render",value:function(){return this.props.snakes?this.renderGrid():void 0}}]),t}(a.a.Component),fe=function(e){function t(){return Object(R.a)(this,t),Object(A.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return a.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100)},a.a.createElement(me,{snakes:this.props.snakes,food:this.props.food,columns:this.props.columns,rows:this.props.rows,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme,maxWidth:100,maxHeight:100,x:0,y:0}))}}]),t}(a.a.Component),ve=n(2),ge=n.n(ve),be=n(9),ye=n(27),we=n.n(ye);function Ee(e,t){var n={},r=!1;return new Promise(function(a,i){var o=new we.a(e);o.addEventListener("message",function(e){var i=JSON.parse(e.data);n[i.Turn]||(n[i.Turn]=!0,(r=t(i))&&(o.close(),a()))}),o.addEventListener("onerror",function(e){i(e)}),o.addEventListener("onclose",function(e){r||(r=!0,a())})})}var ke={};function Oe(e){return ke[e]}function je(e){return e in ke?Promise.resolve(ke[e]):function(e){return xe.apply(this,arguments)}(e)}function xe(){return(xe=Object(be.a)(ge.a.mark(function e(t){var n,r,a;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return r=e.sent,a=Se(r),ke[t]=a,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Se(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}var Te="regular",ze="regular";function Ce(){return(Ce=Object(be.a)(ge.a.mark(function e(t,n){var r;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t+T(n));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Re(e){return new Promise(function(t){return setTimeout(t,e)})}function Me(e){var t=e.reduce(function(e,t){return e.concat([t.HeadType,t.TailType])},[]),n=new Set(t);return Array.from(n)}function Ae(e){var t=!0,n=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.HeadType||(o.HeadType=Te),o.TailType||(o.TailType=ze),o.HeadType=Ie(o.HeadType),o.TailType=_e(o.TailType)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}function Le(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(be.a)(ge.a.mark(function e(t){var n,r,a,i,o,c;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ae(t),e.next=3,l=Me(t),Promise.all(l.map(je));case 3:for(n=!0,r=!1,a=void 0,e.prev=6,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0)(c=o.value).HeadSvg=Oe(c.HeadType),c.TailSvg=Oe(c.TailType);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),r=!0,a=e.t0;case 14:e.prev=14,e.prev=15,n||null==i.return||i.return();case 17:if(e.prev=17,!r){e.next=20;break}throw a;case 20:return e.finish(17);case 21:return e.finish(14);case 22:case"end":return e.stop()}var l},e,this,[[6,10,14,22],[15,,17,21]])}))).apply(this,arguments)}function Fe(e){return e.indexOf("/")>=0||e.indexOf(".")>=0}function He(e,t){return C(e,t)+".svg"}function Ie(e){return He("images/snake/head",Fe(e)?Te:e)}function _e(e){return He("images/snake/tail",Fe(e)?ze:e)}function Ge(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(be.a)(ge.a.mark(function e(t){return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(t.Snakes);case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ne(e,t){return function(e,t){return Ce.apply(this,arguments)}(C(e,"games/".concat(t)))}function We(e,t,n){return De.apply(this,arguments)}function De(){return(De=Object(be.a)(ge.a.mark(function e(t,n,r){var a,i,o,c;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e){return i=i.then(Object(be.a)(ge.a.mark(function t(){return ge.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ge(e);case 2:return t.abrupt("return",r(a,e));case 3:case"end":return t.stop()}},t,this)}))),j(e)},e.next=3,Ne(t,n);case 3:return a=e.sent,i=Promise.resolve(),c=C(z(t),"socket/".concat(n)),e.next=8,Ee(c,o);case 8:return e.next=10,i;case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ve(e,t){return e.filter(function(e){return e.turn===t})[0]}function Xe(){var e=Object(F.a)(["\n  margin-bottom: 0.5rem;\n  padding-bottom: 1rem;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n\n  @media (min-width: ",") {\n    margin-bottom: 1rem;\n  }\n"]);return Xe=function(){return e},e}var Ue=Object(H.a)("div")(Xe(),J),Ye=Object(H.a)("span")(function(e){return{display:"block",paddingBottom:"1rem",textShadow:e.theme===$?"0 1px 2px rgba(0,0,0,0.90)":null}}),Ke=Object(H.a)("div")({width:"100%",height:"1.8rem",background:N,borderRadius:"1.5rem"}),qe=Object(H.a)("div")(function(e){return{height:"100%",backgroundColor:e.color,borderRadius:"inherit"}}),Je=Object(H.a)("div")(function(e){var t=e.theme;return{height:"100%",padding:".2rem .8rem",fontSize:"1.5rem",lineHeight:"1.3rem",backgroundColor:t===$?D:W,borderRadius:"inherit",color:t===$?V:X}}),Qe=function(e){function t(){return Object(R.a)(this,t),Object(A.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return a.a.createElement(Ue,null,a.a.createElement(Ye,null,this.props.snake.name),a.a.createElement(Ke,null,this.props.snake.death?a.a.createElement(Je,{theme:this.props.theme},function(e){switch(e){case"snake-collision":return"Collided with snake body";case"snake-self-collision":return"Collided with own body";case"starvation":return"Starvation";case"head-collision":return"Head on head collision";case"wall-collision":return"Collided with a wall";default:return e}}(this.props.snake.death.cause)):a.a.createElement(qe,{color:this.props.snake.color,style:{width:"".concat(this.props.snake.health,"%")}})))}}]),t}(a.a.Component);function $e(){var e=Object(F.a)(["\n  transition: background-color 0.2s, box-shadow 0.2s;\n  box-shadow: ",";\n\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return $e=function(){return e},e}function Ze(){var e=Object(F.a)(["\n  display: none;\n  padding-right: 2rem;\n  color: ",";\n  font-weight: 600;\n  font-size: 1.4rem;\n\n  @media (min-width: ",") {\n    display: ",";\n    font-size: 1.8rem;\n  }\n\n  @media (min-width: ",") {\n    font-size: 3.2rem;\n    letter-spacing: 0.1rem;\n  }\n"]);return Ze=function(){return e},e}var et=Object(H.a)("div")(Ze(),function(e){return e.theme===$?V:X},q,function(e){return e.hide?"none":"block"},Q),tt=Object(H.a)("div")($e(),function(e){return e.highlighted?"0 0 0 1px ".concat(V):null},function(e){return e.theme===$?U:K}),nt=function(e){function t(){var e,n;Object(R.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(A.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={highlightedSnake:null},n.toggleHighlight=function(e){var t=function(e,t){return e.highlightedSnake!==t._id?t._id:null};n.props.highlightSnake(t(n.state,e)),n.setState(function(n){return{highlightedSnake:t(n,e)}})},n}return Object(P.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this,t=this.state.highlightedSnake;return a.a.createElement(et,{theme:this.props.theme},this.props.snakes?function(e){var t=e.filter(function(e){return!e.isDead}).sort(function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0}),n=e.filter(function(e){return e.isDead}).sort(function(e,t){return e.death.turn-t.death.turn}).reverse();return t.concat(n)}(this.props.snakes).map(function(n,r){return a.a.createElement(tt,{key:"avatarwrapper"+r,onClick:function(){return e.toggleHighlight(n)},highlighted:t===n._id,theme:e.props.theme},a.a.createElement(Qe,{snake:n,key:"avatar"+r,theme:e.props.theme}))}):void 0)}}]),t}(a.a.Component),rt=n(28),at=n.n(rt);function it(){var e=Object(F.a)(["\n  display: inline-block;\n  min-width: 3rem;\n  text-align: center;\n  background: transparent;\n  color: ",";\n  font-size: 1.4rem;\n  border: none;\n  text-decoration: none;\n  text-align: center;\n  cursor: pointer;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &:disabled {\n    color: #ccc;\n    cursor: not-allowed;\n  }\n"]);return it=function(){return e},e}function ot(){var e=Object(F.a)(["\n  position: absolute;\n  bottom: 2.5rem;\n  right: 2.5rem;\n  width: 20rem;\n  padding: 1rem;\n  border: solid 1px #999;\n  background: #fff;\n\n  @media (min-width: ",") {\n    left: 2.5rem;\n    right: 0;\n  }\n\n  h4 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n\n  ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n"]);return ot=function(){return e},e}function ct(){var e=Object(F.a)(["\n  margin: 0;\n  padding: 1rem;\n  height: 3rem;\n  width: 3rem;\n  background: #dfdfdf;\n  border-radius: 50%;\n  line-height: 0.5;\n  text-align: center;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return ct=function(){return e},e}function lt(){var e=Object(F.a)(["\n  display: ",";\n  margin-top: 1rem;\n  width: 100%;\n"]);return lt=function(){return e},e}var ut=Object(H.a)("div")(lt(),function(e){return e.hide?"none":"block"}),st=Object(H.a)("div")(function(e){return{display:"flex",color:e.theme===$?"#eee":"#333",justifyContent:"center",marginBottom:"2rem",fontSize:"1.4rem"}}),ht=Object(H.a)("div")({position:"relative",marginLeft:"1rem"}),dt=Object(H.a)("div")(ct()),pt=Object(H.a)("div")(ot(),q),mt=Object(H.a)("div")({display:"flex",justifyContent:"center",width:"100%",marginBottom:"2rem"}),ft=Object(H.a)("button")(it(),function(e){return e.theme===$?"#eee":"#333"}),vt=function(e){function t(){var e,n;Object(R.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(A.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(a)))).state={paneHidden:!0},n.handleParentKeyboardEvent=function(e){var t=e.data.code;n.handleKeyEvent(n.keyboardCodeMap[t])},n.toggleTheme=function(){n.props.toggleTheme()},n.handleReload=function(){n.props.reloadGame()},n.handlePlayPause=function(){n.props.toggleGamePause()},n.handleBackward=function(){n.props.stepBackwardFrame()},n.handleForward=function(){n.props.stepForwardFrame()},n.handleShortcutPaneShowToggle=function(){n.setState({paneHidden:!n.state.paneHidden})},n.handleKeyEvent=function(e){switch(e){case"r":n.handleReload();break;case"left":n.handleBackward();break;case"right":n.handleForward();break;case"space":n.handlePlayPause()}},n}return Object(P.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){this.keyboardCodeMap={KeyR:"r",ArrowLeft:"left",ArrowRight:"right",Space:"space"}}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleParentKeyboardEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleParentKeyboardEvent)}},{key:"render",value:function(){return this.renderControls()}},{key:"renderControls",value:function(){var e=this.props,t=e.currentFrame,n=e.hideControls,r=e.paused,i=e.theme;return a.a.createElement(ut,{hide:n},a.a.createElement(st,{theme:i},"Turn: ",t.turn),a.a.createElement(mt,null,a.a.createElement(ft,{onClick:this.toggleTheme,theme:i},"Toggle Theme"),a.a.createElement(ft,{onClick:this.handleReload,disabled:0===t.turn||!r,theme:i},"Reload"),a.a.createElement(ft,{onClick:this.handlePlayPause,theme:i},r?"Play":"Pause"),a.a.createElement(ft,{onClick:this.handleBackward,disabled:0===t.turn||!r,theme:i},"Backward"),a.a.createElement(ft,{onClick:this.handleForward,disabled:!r,theme:i},"Forward"),a.a.createElement(at.a,{handleKeys:Object.values(this.keyboardCodeMap),onKeyEvent:this.handleKeyEvent}),a.a.createElement(ht,null,a.a.createElement(dt,{onClick:this.handleShortcutPaneShowToggle},"?"),!this.state.paneHidden&&a.a.createElement(pt,null,a.a.createElement("h4",null,"Keyboard shortcuts"),a.a.createElement("ul",null,a.a.createElement("li",null,"Reload = r"),a.a.createElement("li",null,"Play/Pause = space"),a.a.createElement("li",null,"Backward = left arrow"),a.a.createElement("li",null,"Forward = right arrow"))))))}}]),t}(a.a.Component);function gt(){var e=Object(F.a)(["\n  > path {\n    fill: ",";\n  }\n"]);return gt=function(){return e},e}function bt(){var e=Object(F.a)(["\n  height: 100%;\n  width: 100%;\n\n  > svg {\n    object-fit: contain;\n    width: 100%;\n    height: 100%;\n    max-width: 100%;\n    max-height: 100%;\n  }\n"]);return bt=function(){return e},e}var yt=Object(H.a)("div")(bt()),wt=Object(H.a)(function(e){return a.a.createElement(yt,null,a.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 503 184"},e),a.a.createElement("path",{d:"M305.5 102.7h-36.1v-71H253v71h-36.2v-71h-27L178.2.7h146.5l-.7 31h-18.5zm-33-3h30v-71H321l.6-25h-139l9.3 25h28v71h30v-71h22.6zm226 84.5l-133.3-72.5 34.2-34.8L365.9.3l134-.1V13l-22 15.5L502.5 50h-60.8L459 87.3 439.6 107zm-128.2-73.3l117 63.7-51.8-67.8 19.8-20.1-18.5-39.8h57.4l-21.3-18.7 24-16.8V3.2l-126.3.2L403 77.6zm87-87a7.3 7.3 0 1 1 7.3-7.2 7.3 7.3 0 0 1-7.3 7.2zm0-11.5a4.2 4.2 0 1 0 4.2 4.3 4.2 4.2 0 0 0-4.2-4.3z"}),a.a.createElement("path",{d:"M134.8 104l-27.2-27.6 32-76.4h34.8l43 102.7h-39.3l-5.3-13.3h-32.5zm45.4-4.4h32.5L172.3 3.1h-30.7l-30.4 72.6 22.4 22.7 4.6-12H175zM167.9 66h-22.5l11.3-30zm-18-3h13.6l-6.8-18.2zm219.6 39.7h-42.3V30.3l.7-29.6h35.3V66h28l4.7 10.7zm-39.3-3h38l24-23.8-3-6.9h-29V3.8h-29.4l-.6 26.6z"}),a.a.createElement("path",{d:"M3.9 184.2L62.8 107 43.4 87.3 60.7 50H0l24.7-21.5L2.4 13V.2l59.3.1h74.7L103 77l34.2 34.8-1.8 1zm43.2-97.5l19.7 20-51.6 68 117-63.7-32.8-33.3.4-1 32-73.3H5.5v8l24 16.9L8.2 46.9h57.5zm-2-62.8a7.3 7.3 0 1 1 7.2-7.3 7.3 7.3 0 0 1-7.3 7.3zm0-11.5a4.2 4.2 0 1 0 4.1 4.2 4.2 4.2 0 0 0-4.2-4.2zM210.7 118a.2.2 0 0 1-.2 0v-.1a.2.2 0 0 1 .2.2zm4.6-45.5a49.2 49.2 0 0 0 3.5 7.6l1.4 2.6-3.3-9.7a1.1 1.1 0 0 0-1.6-.6z"}),a.a.createElement("path",{d:"M223.2 94.4a1 1 0 0 0-1.2-.3l-.4-.7c-2.9-3.3-5.7-6.8-8.8-10a1 1 0 0 0-.5.8l-.5 3a2 2 0 0 0 0 .3l-1.7 11a1.1 1.1 0 0 0 .6 1.1 5.5 5.5 0 0 1-.7 1.8l.3 5v3.4a1.2 1.2 0 0 0 0 .4v.5a.7.7 0 0 0-.1.1 1.2 1.2 0 0 0 0 .4c0 .1-.1 0 0 .1v.6c0 .2 0 0 0 0a2 2 0 0 1 0 .6v1.3s-.1 0 0 0a1 1 0 0 1 0 .2v.2a.4.4 0 0 0 0 .3s-.2.1 0 .2-.1 0 0 0l-.2 1.3v1.2h.1c.1 0 0 0 0 .2a.5.5 0 0 1 0 .2.5.5 0 0 1 .2.1v.3c0 .1 0 0 0 0h.4c.2 0 0 0 0 0h.1v1a30 30 0 0 1-1.4 7.2l-.5 1.1a148.2 148.2 0 0 0-6.2-17.1l-.4-2.2c.1-.2.3-.2.5-.2a2.7 2.7 0 0 1-.4-.9 3 3 0 0 1 0-.5 1 1 0 0 0-.1-.4 2.6 2.6 0 0 0-.4-.4v-.3a.2.2 0 0 1 .2 0c.2 0 .3-.1.3-.5a12.4 12.4 0 0 0-.9-2c-.6-4.5-1.2-9-1.6-13.5a1.1 1.1 0 0 0-1.2-1l-.2-.7a1.1 1.1 0 0 0-.4-.5l-.5.4a96 96 0 0 1-11.6 12.7l-2.1 3.4a1.2 1.2 0 0 0-.1.1 1.9 1.9 0 0 1 1.3 1.4 1.1 1.1 0 0 0 .6-.5l.6-.7q-1.1 6-2.4 11.8l-2 9a45.2 45.2 0 0 0-1.5 8.7.4.4 0 0 0 .4.4 391 391 0 0 1-1 4.7.9.9 0 0 0-.4 1 11 11 0 0 0 1.9 3.8l1.4 2.5 2.2 3.4a20.3 20.3 0 0 0 2.4 2.9 7.1 7.1 0 0 0 1 .8 65.3 65.3 0 0 1 3.2 6.1 1.1 1.1 0 0 0 2-.2l4.2-23.4.3.6a.9.9 0 0 1 1.5-.2v-1.4a.8.8 0 0 1 1.7 0v.7a.7.7 0 0 1 .6.4 35 35 0 0 0 3.4 5.2.8.8 0 0 1 1.3.2c.8 1.6 1.9 3 2.7 4.6a.8.8 0 0 1-.1 1 24 24 0 0 1 3.2 3l2.3 1.9a1.3 1.3 0 0 0 1.2.2c1 1.3 1.8 2.6 2.7 4a1.1 1.1 0 0 0 2-.6c.8-6.2 1.7-12.6 1.9-18.9a7.3 7.3 0 0 1 .8-1.3c0-1.3 0-2.8.2-4.5l.5-4.5 1.6-13.3c.5-3.4 1-6.9 1.3-10.4.2-3.1-1.6-5.2-3.5-7.7zM191.7 155l-.8-1.6a1 1 0 0 0 .2-.1 1.5 1.5 0 0 1 1-.4zm.5-2.5a.4.4 0 0 0-.2-.2c-.1 0-.1-.2 0-.4h.3l-.1.5zm4.9-59v-.8l.1-.6.4 1.5a1.2 1.2 0 0 0-.5 0zm1.4 6l-.3-1v-.3c0-.1 0 0 0 0a1 1 0 0 0 .3.6l.2 1zm5.7 19.8l-.9-4.3a403.2 403.2 0 0 1 1.5 4.5.6.6 0 0 0-.6-.2zm1.2 4.4v.8l-.5-2v-1a13.3 13.3 0 0 1 .8 1.7.5.5 0 0 0-.3.5zm1.2 4.4l-.2-.2a.7.7 0 0 0 .2-.3zm-.2-2.5a14 14 0 0 1 .2 1.6 11.9 11.9 0 0 1-.2-1.5zm.3 5l-.3-1.4a3.9 3.9 0 0 0 .5.2.5.5 0 0 0 .7-.4 12 12 0 0 0 0-1.6l.4 1.4a13.1 13.1 0 0 1-1.3 1.8zm4-16.5a6.3 6.3 0 0 0 0 1.3 3 3 0 0 0 0 .7v1.1c0 .2 0 0 0 0v.1a.1.1 0 0 1 0-.1 2.3 2.3 0 0 1 0-.8v-2.1s.1 0 0 0v-.8a.2.2 0 0 0 0-.2v-.4c0-.1.1 0 0-.1v-.1a2 2 0 0 0 0-.2V109.2l.1 1.8.2 3.3h-.3zm7.9 36.6v-1.5a1.4 1.4 0 0 0 .2-.2zm2.8-53.6a.7.7 0 0 0 0-.2V96.6a1.5 1.5 0 0 0 0-.2v-.1c0-.1-.1 0 0-.1v1zm2.8 7.4l-.7 5.4v-4.6a.4.4 0 0 0 0-.1 6.3 6.3 0 0 0 0-2.4 6 6 0 0 1 .4-1.7l-.5-1v-2l.7 1.2c.8 1.5.3 3.5.1 5.2zm166.2-37.2a1 1 0 0 0-1-.7 1 1 0 0 0-.7 1.9 4 4 0 0 1-.4.2 1.1 1.1 0 0 0-.7-.3h-.3a.6.6 0 0 0-.8-.5h-.2a.6.6 0 0 0-.5-.3c-3.3.4-6.4 1.9-9.4 3.2l-2 .8a.7.7 0 0 0-1-.4 8 8 0 0 0-1.1.7.6.6 0 0 0-.6-.1 175 175 0 0 0-14 6.2l-1.5.4-4.9 1.5a23.2 23.2 0 0 0-5 1.7.8.8 0 0 0 0 1.5 107.2 107.2 0 0 1-11 4.1 1 1 0 0 0 .5 1.9l-.6.5a6.8 6.8 0 0 0-1.5 2.5l.4 1a1 1 0 0 0 0 .3c-.3 8.4 0 17 .3 25.4l-.8.2a55.5 55.5 0 0 1-9.1 1.6 52.4 52.4 0 0 1-5.5.2 1.1 1.1 0 0 0-.7-.6l-.5-.2-3.6-2.7a36.7 36.7 0 0 1-3.5-4.5v-.2a11.1 11.1 0 0 1 1-1.2l.8-1.1a4 4 0 0 0 .7-1.3 28.7 28.7 0 0 1 2.6-3.3 130.6 130.6 0 0 0 9.5-11 27 27 0 0 0 2.2-3.2 11.6 11.6 0 0 1 .2-1.8c0-.5.2-1 .3-1.4a4.2 4.2 0 0 0-1-1.7 6 6 0 0 0-1.3-.8l-1.3-.7a4.1 4.1 0 0 1-1.3-1.2 2.7 2.7 0 0 1-1.9-.7c-.5-.4-1-.9-1.7-1.3a18.3 18.3 0 0 0-1.5 1.3 8.6 8.6 0 0 1-1.7 1.2c0 .4.2.6.4.6s.3.2.4.5l-.8-.1a1.5 1.5 0 0 0-1 .2 458 458 0 0 1-8.2 9.7 29 29 0 0 0-3.5 5l-1.5 2-1.7 2.3-1 1.2V103l.2-4.6-.2-7.6a11 11 0 0 0-1.2-5.2l.3-4a1 1 0 0 0-1.6-1 1.1 1.1 0 0 0-1.9-1l-1.9 2.6q-2.1 1.5-4 3.2c-3.4-.5-3.9 2.6-3.9 5.3a1 1 0 0 0 0 1.1v1.5l.1 4.1a6.5 6.5 0 0 1-.7 2.3 53.3 53.3 0 0 1 .2 7.6l-.2 4.7-2-2.2-12.6 4.8-1 .2a3.9 3.9 0 0 0-.8.4 2.7 2.7 0 0 0-.8 0 28.6 28.6 0 0 1-1.9-3.5l-1.7-4-1.1-2.8-1.3-2.8-1-3.2-.2-.3c-.3-3.5-2.5-6.3-4.3-9.3l-.5-1.1-1.3 1.6 1 1.8-1-.2v-.2a.8.8 0 0 0-.4-.6.8.8 0 0 0 0-.1l-1 1.6a2 2 0 0 1-2.7.7l-5.3-2.6a6 6 0 0 0-.9-.3l-5 11-.5.3a18.5 18.5 0 0 0-1 3l-.2.5-1.4 3a1.1 1.1 0 0 0 .3 1.4l-.1.6a27.3 27.3 0 0 1-1 2.7 2.3 2.3 0 0 0 0 .8 2.3 2.3 0 0 0 .3.6l-.7 3-.7 2.8-.3 1.6v.1c0 .1 0 0 0 0v.4c-.2 0 0 .1-.2.2s0 .1 0 .2a1.1 1.1 0 0 1 0 .3v.5c0 .1-.2.1 0 .1 0 .2 0 .4-.2.6v.4c0 .1 0 .1 0 0a2 2 0 0 1 0 .3V124.6c.1.1 0 0 0 0v.5c0 .1-.1 0 0 .1v.8a.6.6 0 0 1-.1.2l-.1.5v.1l-.4 1.6q-1 4.2-1.6 8.8l.2 1.4-.7.9 1 .7a.4.4 0 0 1 0 .2v.1c0 .1-.1 0 0 .1v.4s-.1 0 0 0v.2a.4.4 0 0 0 0 .2v.3a1.2 1.2 0 0 1 0 .1v.2c0 .3 0 .5-.2.6h.1v2.1c0 .1 0 0 0 0v.2c0 .2 0 0 0 0v.5c0 .1 0 0 0 0v1.5a13 13 0 0 0 0 2 .1.1 0 0 1 0 .2h-.1a2.6 2.6 0 0 1 0 .7V148.9h-.1a4.6 4.6 0 0 0 0-1 2 2 0 0 0 0-.5 2.1 2.1 0 0 1 0-.3v-.4a2 2 0 0 1 0-.5v-.7a.5.5 0 0 0 0-.1v-.1.9-.2h-.2v.3a2.9 2.9 0 0 0 0 .7 1.4 1.4 0 0 1 0 .3v2.4a.1.1 0 0 1 0 .2.3.3 0 0 0 0 .1v.1a.1.1 0 0 0 .1.1.2.2 0 0 1 0 .2.1.1 0 0 1 0 .1h.1a1.3 1.3 0 0 0 0 .5h-.9v-.4a.2.2 0 0 0 0-.1v-.1a1.5 1.5 0 0 1 0-.5v-.6.3l.1.2c.1 0 0-.2 0-.2v.4a2.9 2.9 0 0 0 .1.3v.1a.7.7 0 0 1 0 .3 1 1 0 0 1 0 .3v.1l.1-.1c.1-.1 0 0 0 0v-.2a.2.2 0 0 1 0 .2c.1 0 0 .2 0 .2a3.4 3.4 0 0 0 .2.8v.1a.7.7 0 0 1 0 .4h.2c-.1 0 0-.2 0-.2v-.1l.1.1c.1 0 0 0 0 .1a3.4 3.4 0 0 1 0-.5s.2 0 0 0 .1 0 0-.2v-.3a4.5 4.5 0 0 0 .9 1.9 2.9 2.9 0 0 0 3 1.1 51.1 51.1 0 0 0 5.8 5.3c.6.5 2 .3 1.9-.8-.7-5.6.5-11.1 1.5-16.6a50.6 50.6 0 0 0 .9-7.6l.1-2.7a25.8 25.8 0 0 0 2.3 4.6c.7.9 2.3.4 2-.8a.9.9 0 0 0 0-.2 84.8 84.8 0 0 1 8.5-3.5l2.3-.7 1 3 .2.4a1.7 1.7 0 0 1 1.5.5l.1.1a131.4 131.4 0 0 1 3.1 15 .5.5 0 0 0 .9.3c1.3-1.4 1.7-3.5 2.3-5.4l2.2-4.8a9.2 9.2 0 0 0 .6-.7 10.7 10.7 0 0 0 1.6-3l.3-.6.4-.5a.4.4 0 0 0-.1-.6 12.8 12.8 0 0 0 .2-1.3l.1-.4v-.3a19.2 19.2 0 0 0 .5-2.2 1.1 1.1 0 0 0-1.4-1.3l-.8-2.3a5.3 5.3 0 0 1-.5-1l-.3-1c1.1-.8 4.8-.5 5.6-1.5a73 73 0 0 1 6.8-3.5c.1 1.2.2 8.4.4 9.5a6.3 6.3 0 0 1-.5.4c-.2.1-.2.3 0 .7l.3.3.5.6v.2a2.7 2.7 0 0 1-.7.3 1.4 1.4 0 0 0 0 1 8.7 8.7 0 0 0 .6.8 4 4 0 0 1 .3.5l.1 1.1a2.4 2.4 0 0 1-.1.2l.1.1c.3 2.5.7 5 .8 7.5l-.2 1a1.2 1.2 0 0 0 .2.9 24 24 0 0 1-.2 3.4l-.6 1c-.7 1.2 1 2.5 1.8 1.5a1.1 1.1 0 0 0 .7-.6l1.2-2-.7 1.6c-.7 1.3 1.3 2.5 2 1.2l3.6-7.3a3.5 3.5 0 0 0 .5 0 8.8 8.8 0 0 0 2.9-4 49 49 0 0 0 1.5-5l.6-2 3-6a9.8 9.8 0 0 0 2.1 1.5 49.7 49.7 0 0 0 9.7 3 11.7 11.7 0 0 0 1.2.4 2.3 2.3 0 0 0 .6 0l2.3.5a.6.6 0 0 0 .2.2 19 19 0 0 0 3.9.5 20.3 20.3 0 0 0 4.5 0l1.8-.3c1.9 0 4-.3 5.3-.5l.2 3a1.4 1.4 0 0 0-.2.4 4.3 4.3 0 0 0 .8 4.4v.1l-.1 1.3c0 1.5-.3 4.3 1 5.4a1.6 1.6 0 0 0 .1.2c.2 1.3.5 2.8 2 2.9a13.6 13.6 0 0 0 3.4-.8l4.5-1.2 5.7-1.4a57.8 57.8 0 0 0 7.2-1.4c2-.5 4-1.3 5.8-2l7.2-1.9c1.3-.3 1-2.4-.3-2.3a24.2 24.2 0 0 0-4.5 1 20.3 20.3 0 0 0 4-1.7 8.8 8.8 0 0 0 1.6-1 23.4 23.4 0 0 1 .9-5.6l.9-3a2.5 2.5 0 0 0-.6-.8 1.5 1.5 0 0 1-1.3-.2 9.5 9.5 0 0 1-1-1l-1.3-1a3 3 0 0 0-1.3-.9 16.6 16.6 0 0 1-3.8 1.5 9 9 0 0 0-3.5 1.8 25.8 25.8 0 0 0-4.2.6l-3.2.8q-1.5.5-3.3.8a6.3 6.3 0 0 1-2.5-.4v-9.4a6.2 6.2 0 0 0 1.8 0 4.4 4.4 0 0 1 2.2.1 2.3 2.3 0 0 1 1.7-.5 2.8 2.8 0 0 0 1.4-.2l.6-.1a.6.6 0 0 0 .3 0h.6a9.4 9.4 0 0 0 3.4-.8l.3-.2c.4 0 .9-.2 1.3-.4l.2-.1a1.1 1.1 0 0 0 2 .2 1 1 0 0 0 1-1l-.1-2c0-.2.2-.3.3-.4l2.1-2.4a3.9 3.9 0 0 0-.1-1.8 6.8 6.8 0 0 0-.8-1.5 2.1 2.1 0 0 1-1.4-.2c0-1.1 0-2.2.2-3.4a1 1 0 0 0-.3-.8 1.2 1.2 0 0 0-1.9-.1v.3a1 1 0 0 0-.3 0 1.2 1.2 0 0 0-1.2-.4l-2.7.7-4.2.8a30.4 30.4 0 0 1-6.2.8c-.2-.3 1.3-6.5 1.2-7v-.3c3.2-1.4 6.3-3.2 9.4-4.7q6-2.7 12.1-5l9.3-3.4a.8.8 0 0 1 .4-1.1 58.1 58.1 0 0 1 6-2.1c.4-.2 1.2-.6 2-.8l.4-1.4a9.8 9.8 0 0 1-1.2.2 6.3 6.3 0 0 1-1.4.1 1.1 1.1 0 0 1-.8-1.8.8.8 0 0 0 .3.3 1.1 1.1 0 0 0 .4.1h.1c-.2 0 0 0 0 0a.8.8 0 0 0 .5 0h.1a1.7 1.7 0 0 0 .3-.1 1.4 1.4 0 0 0 .7-1.2 1 1 0 0 0-.8-1 1 1 0 0 0-1 .6 1 1 0 0 0-.6 1 9.4 9.4 0 0 1-1.5.3c-1.2 0-1.4-1.4-.6-2a11.6 11.6 0 0 1 2-1 1.2 1.2 0 0 1 0-1.4 11 11 0 0 1-1.4.3 1.4 1.4 0 0 1-1.4-.7h.1a3.3 3.3 0 0 0 1.5.1c1 .5 2.2-.7 2-1.8a2 2 0 0 0-1.6-1.3 3.4 3.4 0 0 0-.5 0 96 96 0 0 1 3.3-1.8.9.9 0 0 0 .5-.2l1.8-1 3.7-1.8.7-.4.6-1.5-4.8 1.9zm-150 89l-1.2-1.3a1 1 0 0 0 1-.8l.1-.5a.6.6 0 0 0 .2 0v2.5zm8.5-22.5l-.5-1 .7.1h1.2a13.8 13.8 0 0 0-1.4 1zm3.5-13.3l-4.4.9a5.3 5.3 0 0 1-.8.2 5 5 0 0 0-1 .2l.6-1.7.7-1.6a39.9 39.9 0 0 1 1.6-4.5 30.8 30.8 0 0 1 2.3-4.4l.2-.9a178 178 0 0 1 5 10.6 40.5 40.5 0 0 1-4.2 1.2zm10 10.3l.3-.1a7.8 7.8 0 0 1 .2 1.3zm4.8 18.1q-.9-5.4-2.1-10.7a36.1 36.1 0 0 1 1.4 4v1.8a.5.5 0 0 0 .7.5l.7 2.5a10.1 10.1 0 0 1-.7 2zm22.6-5.8a.8.8 0 0 0-.2-.1l.2-.8a.8.8 0 0 0 .3-.1l.1.3zm14.7-17.5a1 1 0 0 1 .4.3l.6.4a7 7 0 0 1-1-.7zm34.2 16.5a4.4 4.4 0 0 1-.7-2l.6.6a6.2 6.2 0 0 1 .1 1.2zm13.7 1.9a27.8 27.8 0 0 0 3.2-.7c1.6-.4 3-.8 4.2-1.3a2.7 2.7 0 0 1 1 .1l-9.5 2.5c.3-.3.7-.5 1-.6zm6.7-64.2l-.9.2-.4.2v-.1l1.6-.5zm18-4.8a.1.1 0 0 0-.1 0l-.4.1s0 .1 0 0h-.2a.7.7 0 0 0-.1.2c0-.1-.2 0-.2 0h-.2a.7.7 0 0 0 .2-.2l.3-.1 1.4-.4zm6.1 1.7l.3-.1a.1.1 0 0 1 .1 0l-.2.2h-.1l-.2.1c-.2.1 0 0-.1 0h-.1zm1.6-6.2l-5 2.6-3.7 1.9a1 1 0 0 0 0-.7 84.8 84.8 0 0 0 10.2-4.8 1 1 0 0 0 .1.3l-1.5.7zM377.2 90zm1-.2z"}),a.a.createElement("path",{d:"M184.5 76.6l-1 1.4a1 1 0 0 0-1.3-.5l-.4.2a1.1 1.1 0 0 0-.5-1 .8.8 0 0 0-.1-1 .8.8 0 0 0-.4-1 1.6 1.6 0 0 0-1-.3.8.8 0 0 0-.3-.9l2-1.2a1 1 0 0 1 0-.4 3 3 0 0 1 1-1l-3.5 2.4a1.7 1.7 0 0 0-1 .1 1.1 1.1 0 0 0-.8 0 1 1 0 0 0-.7 1l-5 3-.2.1a2 2 0 0 0-.5 0 2 2 0 0 0-1.2 1l-3.3 2.2a26.6 26.6 0 0 0-4.4 3l-1.4.7 1-.8c3.4-2.5 7.1-5 10.3-7.7.6-.6-.2-1.6-1-1.2a94.6 94.6 0 0 0-11 7.4l-10.6 8c-7 5.2-14 10.6-20.4 16.4a1 1 0 0 0-.4.7 17.3 17.3 0 0 0-4.2 3.5v.1c.7 4.8 4.2 8.4 6.4 12.7a110.5 110.5 0 0 1 14.3 3q2.3.6 4.5 1.4a12.5 12.5 0 0 1 4.3 2c2 1.8 1.7 4.7 1 7.2a43.9 43.9 0 0 1-6 5.6l-7.5 3.7-6.4 3.5a2 2 0 0 1 0 .3l-3.5 1.4a68.3 68.3 0 0 0-7.7 3.1.8.8 0 0 0 .3 1.6.8.8 0 0 0 .8 1.1 36.4 36.4 0 0 0 6.5-2.7l.4-.2c-4.9 4.3-10.5 7.7-16 11.3-2.2 1.5-4.5 3-6.7 4.7a.8.8 0 0 1 .2.2 74.2 74.2 0 0 1 11.4-6.5c.9-.4 1.8.7 1 1.3-2 1.9-4.5 3.4-6.3 5.5l.7-.2h.3l.1-.2.4-.1a38.7 38.7 0 0 1 5-2.9 1.3 1.3 0 0 1 1.6.7 2.4 2.4 0 0 0 .2-.2.6.6 0 0 0 .2 0l1.5-.7-1.9 1a.8.8 0 0 1-.3 1l-.3.1a11.7 11.7 0 0 0 1.4-.7l.6-.3c.8-.6 1.6.6 1 1.2 2.7-1.5 5.4-2.9 8.2-4.2a.9.9 0 0 0 0 .6l-.5.3a.5.5 0 0 0 .3 1 62.6 62.6 0 0 0 6.3-2l4.4-2.6.6-.4a9 9 0 0 1 2.3.1.5.5 0 0 0 .7-.5 2.7 2.7 0 0 1 0-.6c-.2.4.4 1 .8.5a9.1 9.1 0 0 1 1.3-1.2 36.4 36.4 0 0 0 6.5-3.5 17.7 17.7 0 0 0 3.2-1.9l1.9-1.4a33.8 33.8 0 0 0 2.8-2l.9-.7a13.9 13.9 0 0 0 2.2-1.7 19 19 0 0 1 2-1.5.5.5 0 0 0 .3-.6l.8-1.4a25.9 25.9 0 0 0 2.8-6.7 21.4 21.4 0 0 0 .6-7.7 10.7 10.7 0 0 0-1.2-4l-1-2.1c-.7-1.1-1.2-2.4-2-3.3a23.8 23.8 0 0 0-5.3-5 33 33 0 0 0-6.7-3.3c-2.3-.9-5.4-1.2-7.3-2.6a1.1 1.1 0 0 1-.3-.4l13.8-9c5.6-3.7 11.5-7.3 17-11.4l3.7-2a2.7 2.7 0 0 0 0-.2 1.9 1.9 0 0 1-1.3-1.6 2 2 0 0 1-.7-1.3.8.8 0 0 0 .3-.1 6.8 6.8 0 0 0 1.4-3.6 1 1 0 0 0 1.5-.3l.1-.8a1 1 0 0 0-1-1l1-2a.9.9 0 0 0-1.6-1zm-36.8 47.9a1.2 1.2 0 0 0-.2.2l-2.8-.8 1.8.3 1.4.2zm-10.2 40.4l1.3-.7a63.7 63.7 0 0 1-1.3.7zm16.3-8.6l-.3.3-.6.2.1-.1zm7.7-27a4 4 0 0 1 .1 3 11.9 11.9 0 0 0-.1-3zm4.6 19.8l-1.3 1-.6.4.4-.5 1.5-1zM147.2 160l-1.1.6h-.3l1.4-.5zm2-15.1a3 3 0 0 1 .4-.2l.3-.2h.3a2.7 2.7 0 0 0 .4-.2h.2a.6.6 0 0 1 .2-.1l-.3.2h-.1c-.2.2-.5.2-.7.3a2.8 2.8 0 0 1-.4.2l-.5.2zm13.5-16.6l-.2.9a6.5 6.5 0 0 0-1.3-1.1zm-4.8-2a9.2 9.2 0 0 1 .7 1.4 9.2 9.2 0 0 0-1-1.1 1.7 1.7 0 0 0 .3-.4zm-.9 11.2l1-1.4-.8 1.2-.2.2zm-1.6-10a13 13 0 0 1 .4 1.4 6.6 6.6 0 0 0-1.5-1.4 8.6 8.6 0 0 0 1-.1zm-2.8-4.3a5 5 0 0 1 .5.4l-1.5-.6zm24-39a1.4 1.4 0 0 1-1.4-.8h.1a1.1 1.1 0 0 0 .3-.6.9.9 0 0 0 0-.3.7.7 0 0 0 .2-.2.9.9 0 0 0 0-1 1 1 0 0 0 .7-.3 1.1 1.1 0 0 0 .2-.4l.5-.2a2.3 2.3 0 0 0-.6 1 .7.7 0 0 0 .7.9 1 1 0 0 0 .1 1 1 1 0 0 0 1.2.2 1.4 1.4 0 0 0 .3-.1l.2-.1.3-.2a1 1 0 0 0 .5.5 18.8 18.8 0 0 1-3.2.5zm4.5-4a2.4 2.4 0 0 1-.1.3v.1a1.1 1.1 0 0 0 0 .2 1 1 0 0 0-.2-.4l.5-.4a.9.9 0 0 0-.2.2zm1.3-.5a1 1 0 0 0-.3.1 1 1 0 0 0-.5 0l1-.5zm4.8-6.8l-.1-.1a1 1 0 0 0-.8-.5 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .5.8v.1a1 1 0 1 0 1.4-1.3z"})))})(gt(),function(e){var t=e.color,n=e.theme;return t||(n===$?Y:U)});function Et(){var e=Object(F.a)(["\n  display: none;\n  width: 40vw;\n  margin-left: 2rem;\n\n  @media (min-width: ",") {\n    display: ",";\n  }\n"]);return Et=function(){return e},e}function kt(){var e=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: ",") {\n    width: ",";\n  }\n"]);return kt=function(){return e},e}function Ot(){var e=Object(F.a)(["\n  display: inline-block;\n  width: 8rem;\n"]);return Ot=function(){return e},e}function jt(){var e=Object(F.a)(['\n  font-size: 1.8rem;\n  font-family: "Permanent Marker", cursive;\n  color: ',";\n\n  @media (min-width: ",") {\n    font-size: 3rem;\n  }\n"]);return jt=function(){return e},e}function xt(){var e=Object(F.a)(["\n  width: 100%;\n  height: 5rem;\n\n  @media (min-width: ",") {\n    height: 8rem;\n  }\n\n  @media (min-width: ",") {\n    height: 16rem;\n  }\n"]);return xt=function(){return e},e}function St(){var e=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  padding-right: 1rem;\n  text-align: center;\n\n  @media (min-width: ",") {\n    padding-top: 1rem;\n    padding-bottom: 2rem;\n  }\n"]);return St=function(){return e},e}function Tt(){var e=Object(F.a)(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n  background: ",";\n  background: ",";\n"]);return Tt=function(){return e},e}var zt,Ct=Object(H.a)("div")(Tt(),function(e){return e.theme===$?U:"transparent"},function(e){return e.theme===$?"linear-gradient(30deg,hsl(280, 94%, 16%) 30%,hsl(269,99%,30%) 100%)":"transparent"}),Rt=Object(H.a)("div")({display:"flex",justifyContent:"space-between",width:"100%",height:"100%"}),Mt=Object(H.a)("div")(function(e){return{paddingLeft:"2rem",paddingTop:"1rem",fontSize:"3.5rem",fontFamily:"'Permanent Marker', cursive",textAlign:"center",color:e.theme===$?V:X,letterSpacing:".3rem"}}),At=Object(H.a)("div")(St(),Q),Lt=Object(H.a)("div")(xt(),J,Q),Pt=Object(H.a)("div")(jt(),function(e){return e.theme===$?V:X},Q),Ft=Object(H.a)("span")(Ot()),Ht=Object(H.a)("div")(kt(),q,function(e){return e.hideScoreboard?"100%":"60vw"}),It=Object(H.a)("div")(Et(),q,function(e){return e.hide?"none":"block"}),_t=function(e){function t(){return Object(R.a)(this,t),Object(A.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(M.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.options;e.boardTheme&&this.props.toggleTheme(e.boardTheme),e.game&&e.engine?(this.hideScoreboard="true"===e.hideScoreboard,this.title=e.title&&decodeURIComponent(e.title),this.props.setGameOptions(e),this.props.fetchFrames()):this.invalidArgs=!0}},{key:"render",value:function(){var e=this.props.currentFrame;return this.invalidArgs?a.a.createElement(I,null):e?this.renderGame():a.a.createElement(te,null)}},{key:"renderGame",value:function(){var e=this.props,t=e.currentFrame,n=e.options;return a.a.createElement(Ct,{theme:this.props.theme},a.a.createElement(Rt,null,a.a.createElement(Ht,{hideScoreboard:this.hideScoreboard},a.a.createElement(Mt,{theme:this.props.theme},this.title),a.a.createElement(fe,{snakes:t.snakes,food:t.food,columns:this.props.grid.width,rows:this.props.grid.height,highlightedSnake:this.props.highlightedSnake,theme:this.props.theme}),a.a.createElement(vt,{currentFrame:t,hideControls:"true"===n.hideMediaControls,toggleTheme:this.props.toggleTheme,reloadGame:this.props.reloadGame,toggleGamePause:this.props.toggleGamePause,stepBackwardFrame:this.props.stepBackwardFrame,stepForwardFrame:this.props.stepForwardFrame,paused:this.props.paused,theme:this.props.theme})),!this.hideScoreboard&&a.a.createElement(It,null,a.a.createElement(At,null,a.a.createElement(Lt,null,a.a.createElement(wt,{theme:this.props.theme})),a.a.createElement(Pt,{theme:this.props.theme},"Turn: ",a.a.createElement(Ft,null,t.turn))),a.a.createElement(nt,{turn:t.turn,snakes:t.snakes,food:t.food,highlightSnake:this.props.highlightSnake,theme:this.props.theme}))))}}]),t}(a.a.Component),Gt=function(e){return{type:"SET_THEME",theme:e}},Bt=function(e,t){return{type:"RECEIVE_FRAME",game:e,frame:t}},Nt=function(e){return{type:"SET_CURRENT_FRAME",frame:e}},Wt=function e(t){return function(){var n=Object(be.a)(ge.a.mark(function n(r,a){var i,o,c,l,u,s,h,d,p,m,f,v,g;return ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=a().gameOptions.frameRate,o=a().frames.slice(),c=o.indexOf(t),l=o.slice(c),u=Math.ceil(i||20),s=1e3/u,h=!0,d=!1,p=void 0,n.prev=9,m=l[Symbol.iterator]();case 11:if(h=(f=m.next()).done){n.next=21;break}if(v=f.value,!a().paused){n.next=15;break}return n.abrupt("return");case 15:return r(Nt(v)),n.next=18,Re(s);case 18:h=!0,n.next=11;break;case 21:n.next=27;break;case 23:n.prev=23,n.t0=n.catch(9),d=!0,p=n.t0;case 27:n.prev=27,n.prev=28,h||null==m.return||m.return();case 30:if(n.prev=30,!d){n.next=33;break}throw p;case 33:return n.finish(30);case 34:return n.finish(27);case 35:(g=l[l.length-1]).gameOver?a().paused||r({type:"GAME_OVER"}):r(e(g));case 37:case"end":return n.stop()}},n,this,[[9,23,27,35],[28,,30,34]])}));return function(e,t){return n.apply(this,arguments)}}()},Dt=(zt=window.location.search)&&zt.length?zt.substr(1).split("&").map(S).reduce(function(e,t){return e[t.key]=t.value,e},{}):{},Vt=Object(c.b)(function(e){return{options:Dt,grid:e.grid,paused:e.paused,currentFrame:e.currentFrame,frames:e.frames,highlightedSnake:e.highlightedSnake,theme:e.theme}},function(e){return{setGameOptions:function(t){return e({type:"SET_GAME_OPTIONS",gameOptions:t})},fetchFrames:function(){return e(function(){var e=Object(be.a)(ge.a.mark(function e(t,n){var r,a,i,o,c,l,u;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().gameOptions,a=r.autoplay,i=r.engine,o=r.game,c=r.turn,t({type:"REQUEST_FRAMES"}),e.next=4,We(i,o,function(e,r){if(r.Turn=r.Turn||0,t(Bt(e,r)),0===r.Turn){var a=n().frames[0];t(Nt(a))}});case 4:a&&(l=n().frames[0],t({type:"RESUME_GAME"}),t(Wt(l))),c&&c<=n().frames.length&&(u=n().frames[c],t(Nt(u)));case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},toggleTheme:function(){return e(function(){var e=Object(be.a)(ge.a.mark(function e(n,r){var a,i;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=r(),i=a.theme,n(Gt(t||i===$?Z:$));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}());var t},reloadGame:function(){return e(function(){var e=Object(be.a)(ge.a.mark(function e(t,n){var r,a,i;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),a=r.frames,r.paused&&(i=Ve(a,0),t(Nt(i)));case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},toggleGamePause:function(t){return e(function(){var e=Object(be.a)(ge.a.mark(function e(t,n){var r,a;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),a=r.currentFrame,r.paused?(t({type:"RESUME_GAME"}),t(Wt(a))):t({type:"PAUSE_GAME"});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},stepForwardFrame:function(){return e(function(){var e=Object(be.a)(ge.a.mark(function e(t,n){var r,a,i,o,c;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),a=r.currentFrame,i=r.frames,o=a.turn+1,(c=Ve(i,o))&&t(Nt(c));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},stepBackwardFrame:function(){return e(function(){var e=Object(be.a)(ge.a.mark(function e(t,n){var r,a,i,o,c;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n(),a=r.currentFrame,i=r.frames,o=a.turn-1,(c=Ve(i,o))&&t(Nt(c));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())},highlightSnake:function(t){return e(function(e){return{type:"HIGHLIGHT_SNAKE",snakeId:e}}(t))}}})(_t),Xt=n(29),Ut={options:null,grid:[],frames:[],paused:!0,highlightedSnake:null,theme:Z},Yt=Object(o.a)(Xt.a),Kt=Object(o.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return Object(u.a)({},e,{theme:t.theme});case"SET_GAME_OPTIONS":return t.gameOptions.autoplay=t.gameOptions.autoplay&&"true"===t.gameOptions.autoplay,t.gameOptions.turn=parseInt(t.gameOptions.turn)||0,Object(u.a)({},e,{gameOptions:t.gameOptions});case"PAUSE_GAME":case"GAME_OVER":return Object(u.a)({},e,{paused:!0});case"RESUME_GAME":return Object(u.a)({},e,{paused:!1});case"SET_CURRENT_FRAME":return x({action:t.type,frame:g(t.frame)}),Object(u.a)({},e,{currentFrame:t.frame});case"RECEIVE_FRAME":var n=v(t.frame);return Object(u.a)({},e,{grid:{height:t.game.Game.Height,width:t.game.Game.Width},frames:[].concat(Object(l.a)(e.frames),[n])});case"REQUEST_FRAMES":case"FETCH_FRAMES":return Object(u.a)({},e);case"HIGHLIGHT_SNAKE":return x({action:t.type,id:t.snakeId,name:t.snakeId?e.currentFrame.snakes.find(function(e){return e._id===t.snakeId}).name:null}),Object(u.a)({},e,{highlightedSnake:t.snakeId});default:return Object(u.a)({},e)}},Ut,Yt);Object(i.render)(a.a.createElement(c.a,{store:Kt},a.a.createElement(Vt,null)),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.199b37b4.chunk.js.map